<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字展销平台-迭代3</title>
    <link rel="stylesheet" href="./1.css">
    <!-- 引入Font Awesome图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 遮罩层 -->
    <div class="mask" id="mask"></div>

    <!-- 固定导航栏 -->
    <header class="navbar">
        <div class="container">
            <div class="logo">数字展销平台</div>
            <nav class="main-nav">
                <ul>
                    <li class="dropdown">
                        <a href="#">首页</a>
                    </li>
                    <li class="dropdown">
                        <a href="#">图书分类 ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="#">文学小说</a></li>
                            <li><a href="#">科技科普</a></li>
                            <li><a href="#">历史地理</a></li>
                            <li><a href="#">生活休闲</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">新品上市 ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="#">本周新品</a></li>
                            <li><a href="#">本月新品</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">优惠活动 ▼</a>
                        <ul class="dropdown-menu">
                            <li><a href="#">限时折扣</a></li>
                            <li><a href="#">满减活动</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#">关于我们</a>
                    </li>
                    <li class="dropdown">
                        <a href="#login-form" class="login-trigger">登录/注册</a>
                    </li>
                    <!-- 搜索、购物车图标 -->
                    <li class="icon-item">
                        <a href="#" class="icon-link"><i class="fas fa-search"></i></a>
                    </li>
                    <li class="icon-item">
                        <a href="#" class="icon-link"><i class="fas fa-shopping-cart"></i></a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 登录表单 -->
    <div class="login-form" id="login-form">
        <div class="login-header">
            <h3>用户登录</h3>
            <a href="#" class="close-link" id="close-login">×</a>
        </div>
        <form action="#" method="post" id="login-form-submit">
            <div class="form-group">
                <label for="username">用户名/邮箱：</label>
                <input type="text" id="username" name="username" placeholder="请输入邮箱/用户名" required>
            </div>
            <div class="form-group">
                <label for="password">密码：</label>
                <input type="password" id="password" name="password" placeholder="请输入密码" required>
            </div>
            <div class="remember-group">
                <input type="checkbox" id="remember" name="remember">
                <label for="remember">记住密码</label>
            </div>
            <div class="form-actions">
                <button type="submit" class="login-btn">登录</button>
                <a href="#" class="register-link">注册</a>
            </div>
        </form>
    </div>

    <!-- 轮播图区域（修复错位） -->
    <div class="banner">
        <div class="container">
            <div class="carousel">
                <!-- 轮播图容器：绝对定位避免错位 -->
                <div class="carousel-slides">
                    <img src="hlm.png" alt="轮播图1" class="slide active">
                    <img src="rljs.jpg" alt="轮播图2" class="slide">
                    <img src="py.jpg" alt="轮播图3" class="slide">
                </div>
                <!-- 控制按钮 -->
                <div class="carousel-controls">
                    <button class="control-btn prev"><i class="fas fa-chevron-left"></i></button>
                    <button class="control-btn next"><i class="fas fa-chevron-right"></i></button>
                </div>
                <!-- 指示器 -->
                <div class="carousel-indicators">
                    <button class="indicator active" data-index="0"></button>
                    <button class="indicator" data-index="1"></button>
                    <button class="indicator" data-index="2"></button>
                </div>
            </div>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="main-content-wrap">
        <div class="container">
            <div class="content-layout">
                <!-- 左侧栏：图书分类导航 -->
                <aside class="sidebar-left">
                    <div class="sidebar-card">
                        <h3>图书分类</h3>
                        <ul class="category-list">
                            <li><a href="#">文学小说</a></li>
                            <li><a href="#">科技科普</a></li>
                            <li><a href="#">历史地理</a></li>
                            <li><a href="#">生活休闲</a></li>
                            <li><a href="#">经济管理</a></li>
                            <li><a href="#">哲学心理</a></li>
                            <li><a href="#">艺术设计</a></li>
                            <li><a href="#">教育考试</a></li>
                        </ul>
                    </div>
                </aside>

                <!-- 中间栏：图书展示区 + 图书推荐订阅表单 -->
                <section class="main-content">
                    <div class="section-title">热门推荐</div>
                    <div class="books-container">
                        <!-- 图书项1 -->
                        <div class="book-item">
                            <div class="book-img">
                                <img src="hlm.png" alt="图书封面">
                                <div class="book-overlay">
                                    <div class="book-detail">
                                        <h4>红楼梦</h4>
                                        <p>作者：曹雪芹</p>
                                        <p>出版社：中信出版社</p>
                                        <p>价格：68.00元</p>
                                        <p>简介：中国古代社会的是怎么样的，真正的文人写出的作品是怎么样的。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="book-title">红楼梦</div>
                        </div>

                        <!-- 图书项2 -->
                        <div class="book-item">
                            <div class="book-img">
                                <img src="rljs.jpg" alt="图书封面">
                                <div class="book-overlay">
                                    <div class="book-detail">
                                        <h4>人类简史</h4>
                                        <p>作者：尤瓦尔·赫拉利</p>
                                        <p>出版社：南海出版公司</p>
                                        <p>价格：39.50元</p>
                                        <p>简介：巨著。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="book-title">人类简史</div>
                        </div>

                        <!-- 图书项3 -->
                        <div class="book-item">
                            <div class="book-img">
                                <img src="hz.jpg" alt="图书封面">
                                <div class="book-overlay">
                                    <div class="book-detail">
                                        <h4>活着</h4>
                                        <p>作者：余华</p>
                                        <p>出版社：重庆出版社</p>
                                        <p>价格：58.00元</p>
                                        <p>简介：一部震撼人心的作品，讲述生命的坚韧与意义。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="book-title">活着</div>
                        </div>

                        <!-- 图书项4 -->
                        <div class="book-item">
                            <div class="book-img">
                                <img src="py.jpg" alt="图书封面">
                                <div class="book-overlay">
                                    <div class="book-detail">
                                        <h4>Python编程</h4>
                                        <p>作者：未知</p>
                                        <p>出版社：作家出版社</p>
                                        <p>价格：28.00元</p>
                                        <p>简介：学习编程，快乐人生。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="book-title">Python编程</div>
                        </div>
                    </div>

                    <div class="section-title">新书上市</div>
                    <table class="new-books">
                        <tr>
                            <th>书名</th>
                            <th>作者</th>
                            <th>出版社</th>
                            <th>价格</th>
                        </tr>
                        <tr>
                            <td>《未来简史》</td>
                            <td>尤瓦尔·赫拉利</td>
                            <td>中信出版社</td>
                            <td>79.00元</td>
                        </tr>
                        <tr>
                            <td>《长安的荔枝》</td>
                            <td>马伯庸</td>
                            <td>湖南文艺出版社</td>
                            <td>45.00元</td>
                        </tr>
                        <tr>
                            <td>《置身事内》</td>
                            <td>兰小欢</td>
                            <td>上海人民出版社</td>
                            <td>59.00元</td>
                        </tr>
                        <tr>
                            <td>《蛤蟆先生去看心理医生》</td>
                            <td>罗伯特·戴博德</td>
                            <td>天津人民出版社</td>
                            <td>49.80元</td>
                        </tr>
                    </table>

                    <!-- 图书推荐订阅表单 -->
                    <div class="section-title">图书推荐订阅</div>
                    <form action="#" method="post" enctype="multipart/form-data" class="subscribe-form">
                        <fieldset>
                            <legend>个人信息</legend>
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="name">用户名：</label>
                                        <input type="text" id="name" name="name" placeholder="请输入用户名" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="email">邮箱：</label>
                                        <input type="email" id="email" name="email" placeholder="请输入邮箱" required>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>性别：</label>
                                <div class="radio-group">
                                    <input type="radio" id="male" name="gender" value="male" checked>
                                    <label for="male">男</label>
                                    <input type="radio" id="female" name="gender" value="female">
                                    <label for="female">女</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>兴趣分类：</label>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="literature" name="interest" value="literature">
                                    <label for="literature">文学</label>
                                    <input type="checkbox" id="science" name="interest" value="science">
                                    <label for="science">科普</label>
                                    <input type="checkbox" id="history" name="interest" value="history">
                                    <label for="history">历史</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="city">所在城市：</label>
                                <select id="city" name="city" required>
                                    <option value="">请选择城市</option>
                                    <option value="beijing">北京</option>
                                    <option value="shanghai">上海</option>
                                    <option value="guangzhou">广州</option>
                                    <option value="shenzhen">深圳</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="avatar">上传头像：</label>
                                <input type="file" id="avatar" name="avatar" accept="image/*">
                            </div>
                            <div class="form-group">
                                <label for="comment">订阅说明：</label>
                                <textarea id="comment" name="comment" rows="5" cols="30" placeholder="请输入订阅需求..."></textarea>
                            </div>
                            <div class="submit-group">
                                <button type="submit" class="submit-btn">提交订阅</button>
                                <button type="reset" class="reset-btn">重置表单</button>
                            </div>
                        </fieldset>
                    </form>
                </section>

                <!-- 右侧栏：促销信息 -->
                <aside class="sidebar-right">
                    <div class="sidebar-card promotion">
                        <h3>限时促销</h3>
                        <div class="promo-item">
                            <img src="30.jpg" alt="促销活动">
                            <div class="promo-info">
                                <p>全场图书满200减50</p>
                                <p class="deadline">剩余时间: 2天8小时</p>
                            </div>
                        </div>
                        <div class="promo-item">
                            <img src="bz.jpg" alt="促销活动">
                            <div class="promo-info">
                                <p>精选图书买一送一</p>
                                <p class="deadline">剩余时间: 5天12小时</p>
                            </div>
                        </div>
                        <div class="promo-item">
                            <img src="30.jpg" alt="促销活动">
                            <div class="promo-info">
                                <p>新用户注册立减30</p>
                                <p class="deadline">长期有效</p>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer>
        <p>© 2025 数字展销平台 版权所有</p>
    </footer>

    <script>
        // 登录弹窗控制
        const loginTrigger = document.querySelector('.login-trigger');
        const loginForm = document.getElementById('login-form');
        const mask = document.getElementById('mask');
        const closeLogin = document.getElementById('close-login');
        const loginFormSubmit = document.getElementById('login-form-submit');

        loginTrigger.addEventListener('click', () => {
            loginForm.style.display = 'block';
            mask.style.display = 'block';
        });

        closeLogin.addEventListener('click', () => {
            loginForm.style.display = 'none';
            mask.style.display = 'none';
        });

        mask.addEventListener('click', () => {
            loginForm.style.display = 'none';
            mask.style.display = 'none';
        });

        loginFormSubmit.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('登录功能暂未实现，仅作演示');
            loginForm.style.display = 'none';
            mask.style.display = 'none';
        });

        // 轮播图逻辑（修复错位：统一切换逻辑）
        const slides = document.querySelectorAll('.slide');
        const indicators = document.querySelectorAll('.indicator');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');
        let currentIndex = 0;
        let isSwitching = false; // 防止快速点击导致的错位

        // 显示指定索引的轮播图
        function showSlide(index) {
            if (isSwitching) return;
            isSwitching = true;

            // 隐藏当前活跃的轮播图
            slides[currentIndex].classList.remove('active');
            indicators[currentIndex].classList.remove('active');

            // 更新当前索引
            currentIndex = (index + slides.length) % slides.length;

            // 显示新的轮播图
            slides[currentIndex].classList.add('active');
            indicators[currentIndex].classList.add('active');

            // 防止快速切换导致的重叠
            setTimeout(() => {
                isSwitching = false;
            }, 500); // 与CSS过渡时间一致
        }

        // 下一张
        function nextSlide() {
            showSlide(currentIndex + 1);
        }

        // 上一张
        function prevSlide() {
            showSlide(currentIndex - 1);
        }

        // 绑定事件
        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);

        // 指示器点击
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                if (index !== currentIndex) {
                    showSlide(index);
                }
            });
        });

        // 自动轮播（5秒切换一次）
        setInterval(nextSlide, 5000);
    </script>
</body>

</html>
